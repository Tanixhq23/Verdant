<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Website Audit Report</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f8f9fa;
        }
        .navbar {
            background-color: rgba(255, 255, 255, 0.7) !important;
            backdrop-filter: blur(8px);
        }
        .navbar-brand {
            font-weight: 700;
        }
        .container {
            max-width: 960px;
        }
        .card {
            border: none;
            box-shadow: 0 4px 8px rgba(0,0,0,0.05);
            transition: transform 0.2s;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        .card:hover {
            transform: translateY(-5px);
        }
        .bg-custom-green { background-color: #d4edda !important; color: #155724 !important; }
        .bg-custom-info { background-color: #d1ecf1 !important; color: #0c5460 !important; }
        .bg-custom-warning { background-color: #fff3cd !important; color: #856404 !important; }
        .bg-custom-danger { background-color: #f8d7da !important; color: #721c24 !important; }
        .emoji { font-size: 1.2rem; margin-right: 8px; }
        .list-unstyled li {
            background-color: #ffffff;
            padding: 1rem;
            margin-bottom: 0.5rem;
            border-radius: 0.5rem;
            display: flex;
            align-items: center;
            box-shadow: 0 2px 6px rgba(0,0,0,0.05);
            transition: background 0.2s;
        }
        .list-unstyled li:hover {
            background-color: #f1f1f1;
        }
    </style>
</head>
<body>

<!-- Transparent Navbar -->
<nav class="navbar navbar-expand-lg fixed-top shadow-sm" style="background-color: rgba(11, 52, 46, 0.7); backdrop-filter: blur(8px);">
  <div class="container">
    <a class="navbar-brand fw-bold text-white" href="#">Verdant</a>
    <button class="navbar-toggler text-white border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link text-white" href="../index.html">Home</a></li>
        <li class="nav-item"><a class="nav-link text-white" href="../websitetracker/">Audit</a></li>
        <!-- <li class="nav-item"><a class="nav-link text-white" href="../login.html">Sign-In</a></li> -->
        <li class="nav-item"><a class="nav-link text-white" href="../contact.html">Contact</a></li>
        <li class="nav-item"><a class="nav-link text-white" href="../about.html">About Us</a></li>
      </ul>
    </div>
  </div>
</nav>


<div class="container py-5 mt-5">

    <header class="text-center mb-5" id="overview">
        <h1 class="display-4 fw-bold">üåê Website Audit Report</h1>
        <p class="lead text-muted">Analysis for <a href="{{ report.url }}" class="text-decoration-none">{{ report.url }}</a></p>
    </header>

    <section class="mb-5">
        <div class="row text-center g-4">
            <div class="col-md-4">
                <div class="card h-100 bg-custom-green">
                    <div class="card-body">
                        <h2 class="card-title fw-bold">{{ report.carbonAnalysis.co2PerVisit | round(5) }}g</h2>
                        <p class="card-text fw-semibold">CO‚ÇÇ per visit</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card h-100 bg-custom-info">
                    <div class="card-body">
                        <h2 class="card-title fw-bold">{{ report.carbonAnalysis.cleanerThan }}</h2>
                        <p class="card-text fw-semibold">Cleaner Than</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card h-100 {% if report.lighthouseScore < 50 %}bg-custom-danger{% else %}bg-custom-warning{% endif %}">
                    <div class="card-body">
                        <h2 class="card-title fw-bold">{{ report.lighthouseScore }}</h2>
                        <p class="card-text fw-semibold">Lighthouse Score</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="mb-5" id="resources">
        <h3 class="mb-4 text-center">üìä Resource Breakdown</h3>
        <div class="row g-4 text-center">
            {% for resource, size in [
                ('üìù JS', report.breakdown.js),
                ('üé® CSS', report.breakdown.css),
                ('üñºÔ∏è Images', report.breakdown.images),
                ('üî§ Fonts', report.breakdown.fonts),
                ('üé¨ Videos', report.breakdown.videos),
                ('üìÅ Others', report.breakdown.others)
            ] %}
            <div class="col-md-4">
                <div class="card h-100">
                    <div class="card-body">
                        <p class="card-text fw-bold"><span class="emoji">{{ resource.split(' ')[0] }}</span>{{ resource.split(' ')[1] }}</p>
                        <h4 class="card-title">{{ (size / 1024) | round(2) }} KB</h4>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </section>

    <h3 class="mt-5" id="recommendations">üí° Recommendations</h3>
    <ul class="list-unstyled">
        {% for suggestion in suggestions %}
            <li><span class="emoji">‚úÖ</span> {{ suggestion }}</li>
        {% endfor %}
    </ul>

</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
